<!--
 * @Author: tim
 * @Date: 2020-10-28 17:23:12
 * @LastEditors: tim
 * @LastEditTime: 2020-10-28 17:52:57
 * @Description: 
-->
# 代码模块化 
> 定义模块接口， 通过接口可以调用模块的功能。
> 隐藏模块的内部实现， 使模块的使用者无需关注模块内部的实现细节。 同时， 隐藏模块的内部实现， 避免有可能产生的副作用和对bug的不必要修改

## AMD（Asynchronous Module Definition）和 CommonJS
> 除了语法和原理的区别之外，主要的区别是AMD的设计理念是明确基于浏览器，而CommonJS的设计是面向通用JavaScript环境（如Node.js服务端），而不局限于浏览器。 

AMD提供名为define的函数， 它接收以下参数：

* 新创建模块的ID。 使用该ID， 可以在系统的其他部分引用该模块。
* 当前模块依赖的模块ID列表。
* 初始化模块的工厂函数， 该工厂函数接收依赖的模块列表作为参数。

``` js
// AMD 定义模块
define('MouseCounterModule',['jQuery'], $ => { // ⇽--- 使用define函数指定模块及其依赖， 模块工厂函数会创建对应的模块
  let numClicks = 0;
  const handleClick = () => {
    alert(++numClicks);
  };
  
  return { // ⇽--- 模块的公共接口
    countClicks: () => {
      $(document).on("click", handleClick);
    }
  };
});
```

AMD有以下几项优点：

* 自动处理依赖， 我们无需考虑模块引入的顺序。
* 异步加载模块， 避免阻塞。
* 在同一个文件中可以定义多个模块。

